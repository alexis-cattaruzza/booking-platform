@if (showBanner) {
  <div class="fixed bottom-0 left-0 right-0 z-50 bg-white border-t-2 border-gray-200 shadow-2xl">
    <div class="max-w-7xl mx-auto p-4 sm:p-6">
      <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <div class="flex-1">
          <h3 class="text-lg font-semibold text-gray-900 mb-2">üç™ Ce site utilise des cookies</h3>
          <p class="text-sm text-gray-600">
            Nous utilisons des cookies pour am√©liorer votre exp√©rience de navigation, analyser le trafic du site et personnaliser le contenu.
            En cliquant sur "Tout accepter", vous consentez √† notre utilisation des cookies.
          </p>

          @if (!showDetails) {
            <button
              (click)="toggleDetails()"
              class="mt-2 text-sm text-blue-600 hover:text-blue-800 underline"
            >
              Personnaliser mes choix
            </button>
          }
        </div>

        <div class="flex flex-col sm:flex-row gap-2 w-full sm:w-auto">
          <button
            (click)="acceptNecessary()"
            class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"
          >
            Cookies essentiels uniquement
          </button>
          <button
            (click)="acceptAll()"
            class="px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors"
          >
            Tout accepter
          </button>
        </div>
      </div>

      <!-- Cookie Details Panel -->
      @if (showDetails) {
        <div class="mt-4 pt-4 border-t border-gray-200">
          <h4 class="text-md font-semibold text-gray-900 mb-3">G√©rer les pr√©f√©rences de cookies</h4>

          <div class="space-y-3">
            <!-- Necessary Cookies -->
            <div class="flex items-start justify-between p-3 bg-gray-50 rounded-lg">
              <div class="flex-1">
                <div class="flex items-center gap-2">
                  <h5 class="font-medium text-gray-900">Cookies n√©cessaires</h5>
                  <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Toujours actifs</span>
                </div>
                <p class="text-sm text-gray-600 mt-1">
                  Ces cookies sont essentiels au fonctionnement du site et ne peuvent pas √™tre d√©sactiv√©s.
                  Ils permettent la navigation, l'authentification et la s√©curit√©.
                </p>
              </div>
              <input
                type="checkbox"
                [checked]="preferences.necessary"
                disabled
                class="mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-not-allowed"
              />
            </div>

            <!-- Analytics Cookies -->
            <div class="flex items-start justify-between p-3 bg-gray-50 rounded-lg">
              <div class="flex-1">
                <h5 class="font-medium text-gray-900">Cookies analytiques</h5>
                <p class="text-sm text-gray-600 mt-1">
                  Ces cookies nous aident √† comprendre comment les visiteurs interagissent avec notre site
                  en collectant et en rapportant des informations de mani√®re anonyme.
                </p>
              </div>
              <input
                type="checkbox"
                [(ngModel)]="preferences.analytics"
                class="mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer"
              />
            </div>

            <!-- Marketing Cookies -->
            <div class="flex items-start justify-between p-3 bg-gray-50 rounded-lg">
              <div class="flex-1">
                <h5 class="font-medium text-gray-900">Cookies marketing</h5>
                <p class="text-sm text-gray-600 mt-1">
                  Ces cookies sont utilis√©s pour suivre les visiteurs sur les sites Web.
                  L'intention est d'afficher des publicit√©s pertinentes et engageantes.
                </p>
              </div>
              <input
                type="checkbox"
                [(ngModel)]="preferences.marketing"
                class="mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer"
              />
            </div>
          </div>

          <div class="mt-4 flex flex-col sm:flex-row gap-2 justify-end">
            <button
              (click)="toggleDetails()"
              class="px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900"
            >
              Annuler
            </button>
            <button
              (click)="openPrivacyPolicy()"
              class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"
            >
              Politique de confidentialit√©
            </button>
            <button
              (click)="saveCustomPreferences()"
              class="px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700"
            >
              Enregistrer mes pr√©f√©rences
            </button>
          </div>
        </div>
      }
    </div>
  </div>
}
